<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Thư viện QString</title>
	<link rel="stylesheet" type="text/css" href="">
</head>
<body id="qstring">
	<h1 style="color:green;">1.Lớp làm việc với chuỗi QString</h1>
	<p>Để làm việc với chuỗi, ngoài kiểu dữ liệu char * (null-terminated string) và
	std::string mà bạn đã biết, còn có một lớp QString trong thư viện Qt.Lớp này nên được sử dụng làm cách chính để làm việc với chuỗi trong các ứng dụng Qt. Không giống như các kiểu chuỗi đã được học trước, QString sử dụng các ký tự Unicode và xử lý chúng ở dạng mã hóa UTF-16. Mỗi ký tự QString chiếm 2 byte trong bộ nhớ và có kiểu QChar.</p>
	<p>Để sử dụng các biến kiểu QString trong chương trình, người lập trình đôi khi cần đưa vào tệp tiêu đề QString</p>
	<div class="cpp" style="border-collapse: collapse; width: 100%; border: 1px solid;">
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top;"><span style="color: #008080;"><span style="color: #000080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#include </font></font></span><font style="vertical-align: inherit;"><span style="color: #008000;"><font style="vertical-align: inherit;">&lt;QString&gt;</font></span></font><span style="color: #c0c0c0;"> </span><font style="vertical-align: inherit;"></font><span style="color: #008000;"></span></span></span></pre>
	</div>
	<p>Tuy nhiên, thông thường nhất, một dòng như vậy không cần phải viết, vì lớp này đã được bao gồm gián tiếp trong các tệp tiêu đề khác được sử dụng trong ứng dụng, ví dụ, QWidget hoặc QDialog.</p>
	<p>Có một số cách để khai báo và khởi tạo một biến kiểu QString trong một chương trình.</p>
	<div class="cpp" style="border-collapse: collapse; width: 100%;border: 1px solid;">
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><span style="font-size: medium;"><span style="vertical-align: top;"><span style="color: #000000;"><span style="color: #c0c0c0;">  <span style="color: #c0c0c0;"></span><span style="color: #800080;">QString</span><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s0</span><span style="font-size: medium;"><span style="vertical-align: top;"><span style="color: #000000;">;</span></span></span></span></span></span></span></pre>
		<pre style="-qt-paragraph-type: empty; -qt-block-indent: 0; text-indent: 0px; margin: 0px;"></pre>
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><span style="font-size: medium;"><span style="vertical-align: top;"><span style="color: #000000;"><span style="color: #c0c0c0;">  </span><span style="color: #800080;">QString</span><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s1</span>(<span style="color: #008000;">"Текст"</span>);<br></span></span><span style="color: #c0c0c0;">  </span><span style="color: #800080;">QString</span><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s2</span>=<span style="color: #008000;">"Текст"</span>;</span></pre>
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top; font-size: medium;"><span style="color: #000000;"></span></span></pre>
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><span style="font-size: medium;"><span style="color: #c0c0c0;">  </span><span style="color: #800080;">QString</span><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s3</span><span style="color: #c0c0c0;"> </span>{<span style="color: #008000;">"Текст"</span>};</span></pre>
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top; font-size: medium;"><span style="color: #000000;"></span></span></pre>
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><span style="font-size: medium;"><span style="color: #c0c0c0;">  </span><span style="color: #800080;">QChar</span><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">letters</span>[<span style="color: #000080;">5</span>]<span style="color: #c0c0c0;"> </span>=<span style="color: #c0c0c0;"> </span>{<span style="color: #000080;">0x422</span>,<span style="color: #c0c0c0;"> </span><span style="color: #000080;">0x435</span>,<span style="color: #c0c0c0;"> </span><span style="color: #000080;">0x43a</span>,<span style="color: #000080;">0x441</span>,<span style="color: #000080;">0x442</span>};</span></pre>
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top; font-size: medium;"><span style="color: #000000;"></span></span></pre>
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><span style="font-size: medium;"><span style="color: #c0c0c0;">  </span><span style="color: #800080;">QString</span><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s4</span>(<span style="color: #092e64;">letters</span>,<span style="color: #c0c0c0;"> </span><span style="color: #000080;">5</span>);</span></pre>
    </div>
    <p>Bạn có thể làm việc với một chuỗi của lớp QString theo những cách đã quen thuộc với chúng ta, tương tự như std::string.</p>
    <p>Bạn có thể thêm chuỗi (thao tác nối).</p>
    <div class="cpp" style="border-collapse: collapse; width: 100%;border: 1px solid;">
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><em><span style="vertical-align: top;"><span style="color: #008000;"><span style="color: #c0c0c0;">  </span></span></span></em><span style="vertical-align: top;"><span style="color: #008000;"><span style="color: #092e64;">s3</span></span></span><span style="vertical-align: top;"><span style="color: #008000;"><span style="color: #c0c0c0;"> </span>=<span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s1</span><span style="color: #c0c0c0;"> </span>+<span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s2</span>;</span></span></pre>
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><span style="color: #c0c0c0;">  </span><span style="color: #092e64;">s4</span>.<span style="color: #00677c;">append</span>(<span style="color: #092e64;">s1</span>);<span style="color: #c0c0c0;"> </span><span style="color: #008000;">//</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">s4</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">=</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">s4</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">+</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">s1</span></pre>
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top;"><span style="color: #008000; font-style: italic;"></span></span></pre>
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><span style="color: #c0c0c0;">  </span><span style="color: #092e64;">s4</span>.<span style="color: #00677c;">prepend</span>(<span style="color: #092e64;">s1</span>);<span style="color: #c0c0c0;"> </span><span style="color: #008000;">//</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">s4</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">=</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">s1</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">+</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">s4<br></span></pre>
    </div>
    <p>Bạn có thể "nhân" các chuỗi với  phương pháp lặp lại . Kết quả của việc thực thi đoạn mã dưới đây, chuỗi s3 sẽ chứa chuỗi s4 được lặp lại 10 lần.</p>
    <div class="cpp" style="border-collapse: collapse; width: 100%;">
	<div class="cpp" style="border-collapse: collapse; width: 100%;">
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;border: 1px solid;"><span style="vertical-align: top;"><span style="color: #000000;"><span style="color: #092e64;">s4</span><span style="color: #c0c0c0;"> </span>=<span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s3</span>.<span style="color: #00677c;">repeated</span>(<span style="color: #000080;">10</span>);</span></span></pre>
	</div>
	</div>
	<p>Bạn có thể "tách" dòng.</p>
	<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top;border: 1px solid;"><span style="color: #000000;"><span style="color: #800080;">QStringList</span><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">sl</span><span style="color: #c0c0c0;"> </span>=<span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s4</span>.<span style="color: #00677c;">split</span>(<span style="color: #008000;">'T'</span>);</span></span></pre>
	<p>Kết quả của việc tách một chuỗi, chúng ta nhận được một danh sách các chuỗi (lớp QStringList) chứa chuỗi ban đầu, được tách tại những vị trí xuất hiện ký tự dấu phân cách đã chỉ định. Trong trường hợp này, dấu phân tách không được bao gồm trong các "đoạn" kết quả của đường thẳng. Dấu phân cách có thể là một chuỗi khác hoặc một biểu thức chính quy.</p>
	<p>Các ký tự trong QString được đánh số từ 0.</p>
	<p>Các chuỗi có thể được so sánh (các toán tử <,>, ==, <=,> =,! =). Với sự so sánh này, kết quả là phân biệt chữ hoa chữ thường. Nếu bạn muốn thực hiện so sánh chuỗi phân biệt chữ hoa chữ thường, bạn nên sử dụng phương thức so sánh () với tham số Qt :: Phân biệt chữ hoa chữ thường. Phương thức này trả về 0 nếu các chuỗi bằng nhau; -1 nếu chuỗi "left" nhỏ hơn; 1 nếu chuỗi "left" lớn hơn.</p>
	<div class="cpp" style="border-collapse: collapse; width: 100%;border: 1px solid;">
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><span style="vertical-align: top;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #808000;">  int</span><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">x</span><span style="color: #c0c0c0;"> </span>=<span style="color: #c0c0c0;"> </span><span style="color: #800080;">QString</span>::<span style="color: #00677c;">compare</span>(<span style="color: #008000;">"aUtO"</span>,<span style="color: #c0c0c0;"> </span><span style="color: #008000;">"AuTo"</span>,<span style="color: #c0c0c0;"> </span><span style="color: #800080;">Qt</span>::<span style="color: #800080;">CaseInsensitive</span>);<span style="color: #c0c0c0;"> </span><span style="color: #008000;">//</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">x</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">==</span><span style="color: #c0c0c0;"> </span></span></span><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;">0</span></span></span><span style="color: #008000; font-style: italic;"><span style="color: #008000;"><br></span></span></span><span style="color: #c0c0c0;">  </span><span style="color: #808000;">int</span><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">y</span><span style="color: #c0c0c0;"> </span>=<span style="color: #c0c0c0;"> </span><span style="color: #800080;">QString</span>::<span style="color: #00677c;">compare</span>(<span style="color: #008000;">"auto"</span>,<span style="color: #c0c0c0;"> </span><span style="color: #008000;">"Car"</span>,<span style="color: #c0c0c0;"> </span><span style="color: #800080;">Qt</span>::<span style="color: #800080;">CaseSensitive</span>);<span style="color: #c0c0c0;">    </span><span style="color: #008000;">//</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">y</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">&gt;</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">0</span></pre>
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top;"><span style="color: #008000; font-style: italic;"></span></span></pre>
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><span style="color: #c0c0c0;">  </span><span style="color: #808000;">int</span><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">z</span><span style="color: #c0c0c0;"> </span>=<span style="color: #c0c0c0;"> </span><span style="color: #800080;">QString</span>::<span style="color: #00677c;">compare</span>(<span style="color: #008000;">"auto"</span>,<span style="color: #c0c0c0;"> </span><span style="color: #008000;">"Car"</span>,<span style="color: #c0c0c0;"> </span><span style="color: #800080;">Qt</span>::<span style="color: #800080;">CaseInsensitive</span>);<span style="color: #c0c0c0;">  </span><span style="color: #008000;">//</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">z</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">&lt;</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">0</span></pre>
	</div>
	<p>Bạn có thể chèn một chuỗi khác vào một chuỗi. Khi chèn, bạn cần xác định rõ vị trí và những gì cần chèn.</p>
	<div class="cpp" style="border-collapse: collapse; width: 100%;border: 1px solid;">
		<pre style="-qt-block-indent: 0; text-indent: 0px; margin: 0px;"><span style="vertical-align: top;"><span style="color: #000000;"><span style="color: #c0c0c0;">  </span><span style="color: #092e64;">s4</span>.<span style="color: #00677c;">insert</span>(<span style="color: #000080;">50</span>,<span style="color: #c0c0c0;"> </span><span style="color: #008000;">"C++</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">11"</span>);<br></span></span><span style="color: #c0c0c0;">  </span><span style="color: #092e64;">s3</span>.<span style="color: #00677c;">insert</span>(<span style="color: #000080;">2</span>,<span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s2</span>);</pre>
	</div>
	<p>Bạn có thể xóa bất kì thứ gì ra khỏi một dòng.</p>
	<p>Bạn có thể xóa một số kí tự nhất định bắt đầu từ một vị trí nhất định</p>
	<div class="cpp" style="border-collapse: collapse; width: 100%;border: 1px solid;">
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top;">&nbsp; <span style="color: #008000;"><span style="color: #092e64;">s4</span>.<span style="color: #00677c;">remove</span>(<span style="color: #000080;">5</span>,<span style="color: #000080;">3</span>);<span style="color: #c0c0c0;"> </span><span style="color: #008000;">//</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">Xóa</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">3</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">kí tự</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">bắt đầu</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">từ</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">vị trí</span><span style="color: #c0c0c0;"> </span><span style="color: #008000;">5</span></span></span></pre>
	</div>
	<p>Bạn có thể xóa một ký tự. Với lệnh gọi này, TẤT CẢ các điểm sẽ bị xóa khỏi chuỗi.</p>
	<div class="cpp" style="border-collapse: collapse; width: 100%;border: 1px solid;">
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top;">&nbsp; <span style="color: #000000;"><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s4</span>.<span style="color: #00677c;">remove</span>(<span style="color: #008000;">'.'</span>);</span></span></pre>
	</div>
	<p>Dòng có thể được thay thế</p>
	<p>Bạn có thể thay thế một số ký tự bằng ký tự khác, ví dụ: thay thế tất cả các dấu chấm bằng dấu phẩy:</p>
	<div class="cpp" style="border-collapse: collapse; width: 100%;border: 1px solid;">
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top;">&nbsp;<span style="color: #000000;"><span style="color: #c0c0c0;"> </span><span style="color: #092e64;">s4</span>.<span style="color: #00677c;">replace</span>(<span style="color: #008000;">'.'</span>,<span style="color: #008000;">','</span>);</span></span></pre>
	</div>
	<p>Một trong những phương pháp quan trọng nhất là phương pháp arg . Nó trả về một bản sao của chuỗi đã cho với lần xuất hiện được đánh số thấp nhất là % 1 , % 2 , ..., % 9 được thay thế bằng giá trị của đối số. Hơn nữa, đối số không chỉ có thể là một chuỗi mà còn có thể là một số. Đối với số, bạn có thể chỉ định hệ thống số (đối với số nguyên) hoặc định dạng hiển thị (đối với số thực).</p>
	<div class="cpp-qt" style="border-collapse: collapse; width: 100%;border: 1px solid;">
		<pre style="margin: 0; background: none; vertical-align: top; padding: 0px 4px; font-family: courier new, courier, monospace; font-size: 16px;"><span style="vertical-align: top;">&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://doc.trolltech.com/latest/qstring.html"><span style="color: #22aadd;">QString</span></a> dirName <span style="color: #006e28;">=</span> <span style="color: #bf0303;">"c:\<span style="color: #000099; font-weight: bold;">\T</span>emp"</span><span style="color: #006e28;">;</span> <span style="color: #888888;">// Tên thư mục</span></span>
		<span style="vertical-align: top;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0057ae;">int</span> i <span style="color: #006e28;">=</span> <span style="color: #b08000;">11</span><span style="color: #006e28;">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #888888;">// Số tệp hiện tại</span></span>
		<span style="vertical-align: top;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0057ae;">int</span> total <span style="color: #006e28;">=</span> <span style="color: #b08000;">64</span><span style="color: #006e28;">;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #888888;">// Tổng số tệp</span></span>
		<span style="vertical-align: top;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #888888;">/// ... </span></span>
		<span style="vertical-align: top;">&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://doc.trolltech.com/latest/qstring.html"><span style="color: #22aadd;">QString</span></a> title <span style="color: #006e28;">=</span> <a href="http://doc.trolltech.com/latest/qstring.html"><span style="color: #22aadd;">QString</span></a><span style="color: #006e28;">(</span><span style="color: #bf0303;">"Trong thư mục %1 xử lý %2 các tập tin từ %3 (Hoàn thành %4 %)"</span><span style="color: #006e28;">)</span>.<span style="color: #2b74c7;">arg</span><span style="color: #006e28;">(</span>dirName<span style="color: #006e28;">)</span>.<span style="color: #2b74c7;">arg</span><span style="color: #006e28;">(</span>i<span style="color: #006e28;">)</span>.<span style="color: #2b74c7;">arg</span><span style="color: #006e28;">(</span>total<span style="color: #006e28;">)</span>.<span style="color: #2b74c7;">arg</span><span style="color: #006e28;">(</span><span style="color: #0057ae;">double</span><span style="color: #006e28;">(</span>cur<span style="color: #006e28;">)</span><span style="color: #006e28;">*</span><span style="color: #b08000;">100</span><span style="color: #006e28;">/</span>total<span style="color: #006e28;">,</span> <span style="color: #b08000;">0</span><span style="color: #006e28;">,</span> <span style="color: #bf0303;">'f'</span><span style="color: #006e28;">,</span> <span style="color: #b08000;">2</span><span style="color: #006e28;">)</span><span style="color: #006e28;">;</span></span>
		<span style="vertical-align: top;">&nbsp;</span></pre>
	</div>
	<p>Chuỗi tiêu đề kết quả:
		"11 trong số 64 tệp được xử lý trong thư mục c: \ Temp (hoàn thành 17,19%)"</p>
	<a href="../homelibraries.html">Back Home</a>
</body>
</html>
